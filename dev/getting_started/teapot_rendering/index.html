<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction to Rendering · RayTracer</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/raytracer.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>RayTracer</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Getting Started</span><ul><li class="current"><a class="toctext" href>Introduction to Rendering</a><ul class="internal"><li><a class="toctext" href="#General-Attributes-of-the-Scene-1">General Attributes of the Scene</a></li><li><a class="toctext" href="#Understanding-the-Light-and-Camera-API-1">Understanding the Light and Camera API</a></li><li><a class="toctext" href="#Rendering-Different-Views-of-the-Teapot-1">Rendering Different Views of the Teapot</a></li><li><a class="toctext" href="#Next-Steps-1">Next Steps</a></li></ul></li><li><a class="toctext" href="../inverse_lighting/">Inverse Lighting</a></li><li><a class="toctext" href="../optim_compatibility/">Optimizing using Optim.jl</a></li></ul></li><li><span class="toctext">API Documentation</span><ul><li><a class="toctext" href="../../api/utilities/">General Utilities</a></li><li><a class="toctext" href="../../api/differentiation/">Differentiation</a></li><li><a class="toctext" href="../../api/scene/">Scene Configuration</a></li><li><a class="toctext" href="../../api/renderers/">Renderers</a></li><li><a class="toctext" href="../../api/optimization/">Optimization</a></li><li><a class="toctext" href="../../api/accelerators/">Acceleration Structures</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Getting Started</li><li><a href>Introduction to Rendering</a></li></ul><a class="edit-page" href="https://github.com/avik-pal/RayTracer.jl/blob/master/docs/src/getting_started/teapot_rendering.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Introduction to Rendering</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Introduction-to-rendering-using-RayTracer.jl-1" href="#Introduction-to-rendering-using-RayTracer.jl-1">Introduction to rendering using RayTracer.jl</a></h1><p>In this example we will render the famous UTAH Teapot model. We will go through the entire rendering API. We will load an obj file for the scene. This needs to be downloaded manually.</p><p>Run this code in your terminal to get the file: <code>wget https://raw.githubusercontent.com/McNopper/OpenGL/master/Binaries/teapot.obj</code></p><p>If you are using REPL mode you need the <code>ImageView.jl</code> package</p><pre><code class="language-julia">using RayTracer, Images #, ImageView</code></pre><h2><a class="nav-anchor" id="General-Attributes-of-the-Scene-1" href="#General-Attributes-of-the-Scene-1">General Attributes of the Scene</a></h2><p>Specify the dimensions of the image we want to generate. <code>screen_size</code> is never passed into the RayTracer directly so it need not be a named tuple.</p><pre><code class="language-julia">screen_size = (w = 256, h = 256)</code></pre><p>Load the teapot object from an <code>obj</code> file. We can also specify the scene using primitive objects directly but that becomes a bit involved when there are complicated objects in the scene.</p><pre><code class="language-julia">scene = load_obj(&quot;teapot.obj&quot;)</code></pre><p>We shall define a convenience function for rendering and saving the images. For understanding the parameters passed to the individual functions look into the documentations of <a href="../../api/scene/#RayTracer.get_primary_rays-Tuple{Camera}"><code>get_primary_rays</code></a>, <a href="../../api/renderers/#RayTracer.raytrace-Tuple{}"><code>raytrace</code></a> and <a href="../../api/utilities/#RayTracer.get_image-Union{Tuple{T}, Tuple{Vec3{T},Any,Any}} where T"><code>get_image</code></a></p><pre><code class="language-julia">function generate_render_and_save(cam, light, filename)
    #src # Get the primary rays for the camera
    origin, direction = get_primary_rays(cam)

    #src # Render the scene
    color = raytrace(origin, direction, scene, light, origin, 2)

    #src # This will reshape `color` into the proper dimensions and return
    #src # an RGB image
    img = get_image(color, screen_size...)

    #src # Display the image
    #src # For REPL mode change this to `imshow(img)`
    display(img)

    #src # Save the generated image
    save(filename, img)
end</code></pre><h2><a class="nav-anchor" id="Understanding-the-Light-and-Camera-API-1" href="#Understanding-the-Light-and-Camera-API-1">Understanding the Light and Camera API</a></h2><h3><a class="nav-anchor" id="DistantLight-1" href="#DistantLight-1">DistantLight</a></h3><p>In this example we will be using the <a href="../../api/scene/#RayTracer.DistantLight"><code>DistantLight</code></a>. This king of lighting is useful when we want to render a scene in which all parts of the scene receive the same intensity of light.</p><p>For the DistantLight we need to provide three attributes:</p><ul><li>Color     - Color of the Light Rays. Must be a Vec3 Object</li><li>Intensity - Intensity of the Light</li><li>Direction - The direction of light rays. Again this needs to be a Vec3 Object</li></ul><h3><a class="nav-anchor" id="Camera-1" href="#Camera-1">Camera</a></h3><p>We use a perspective view <a href="../../api/scene/#RayTracer.Camera"><code>Camera</code></a> Model in RayTracer. Let us look into the arguments we need to pass into the Camera constructor.</p><ul><li>LookFrom - The position of the Camera</li><li>LookAt   - The point in 3D space where the Camera is pointing</li><li>vup      - The UP vector of the world (typically Vec3(0.0, 1.0, 0.0), i.e. the y-axis)</li><li>vfov     - Field of View of the Camera</li><li>Focus    - The focal length of the Camera</li><li>Width    - Width of the output image</li><li>Height   - Height of the output image</li></ul><h2><a class="nav-anchor" id="Rendering-Different-Views-of-the-Teapot-1" href="#Rendering-Different-Views-of-the-Teapot-1">Rendering Different Views of the Teapot</a></h2><p>Now that we know what each argument means let us render the teapot</p><h3><a class="nav-anchor" id="TOP-VIEW-Render-1" href="#TOP-VIEW-Render-1">TOP VIEW Render</a></h3><pre><code class="language-julia">light = DistantLight(
    Vec3(1.0f0),
    100.0f0,
    Vec3(0.0f0, 1.0f0, 0.0f0)
)

cam = Camera(
    Vec3(1.0f0, 10.0f0, -1.0f0),
    Vec3(0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    45.0f0,
    1.0f0,
    screen_size...
)

generate_render_and_save(cam, light, &quot;teapot_top.jpg&quot;)</code></pre><p align="center">
    <img width=256 height=256 src="../../assets/teapot_top.jpg">
</p><h3><a class="nav-anchor" id="SIDE-VIEW-Render-1" href="#SIDE-VIEW-Render-1">SIDE VIEW Render</a></h3><pre><code class="language-julia">light = DistantLight(
    Vec3(1.0f0),
    100.0f0,
    Vec3(1.0f0, 1.0f0, -1.0f0)
)

cam = Camera(
    Vec3(1.0f0, 2.0f0, -10.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    45.0f0,
    1.0f0,
    screen_size...
)

generate_render_and_save(cam, light, &quot;teapot_side.jpg&quot;)</code></pre><p align="center">
    <img width=256 height=256 src="../../assets/teapot_side.jpg">
</p><h3><a class="nav-anchor" id="FRONT-VIEW-Render-1" href="#FRONT-VIEW-Render-1">FRONT VIEW Render</a></h3><pre><code class="language-julia">light = DistantLight(
    Vec3(1.0f0),
    100.0f0,
    Vec3(1.0f0, 1.0f0, 0.0f0)
)

cam = Camera(
    Vec3(10.0f0, 2.0f0, 0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    Vec3(0.0f0, 1.0f0, 0.0f0),
    45.0f0,
    1.0f0,
    screen_size...
)

generate_render_and_save(cam, light, &quot;teapot_front.jpg&quot;)</code></pre><p align="center">
    <img width=256 height=256 src="../../assets/teapot_front.jpg">
</p><h2><a class="nav-anchor" id="Next-Steps-1" href="#Next-Steps-1">Next Steps</a></h2><ul><li>Try Rendering complex environments with RayTracer</li><li>Look into the other examples in <code>examples/</code></li><li>Read about inverse rendering and see the examples on that</li></ul><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p><footer><hr/><a class="previous" href="../../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../inverse_lighting/"><span class="direction">Next</span><span class="title">Inverse Lighting</span></a></footer></article></body></html>
